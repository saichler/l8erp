/*
Â© 2025 Sharon Aicler (saichler@gmail.com)

Layer 8 Ecosystem is licensed under the Apache License, Version 2.0.
You may obtain a copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
syntax = "proto3";

package sales;

option go_package = "./types/sales";

import "sales-common.proto";
import "erp-common.proto";
import "api.proto";

// ============================================================================
// SHIPPING AND DELIVERY MESSAGES
// ============================================================================

// @PrimeObject
// SalesDeliveryOrder represents a delivery/shipment to a customer
message SalesDeliveryOrder {
  string delivery_order_id = 1;
  string delivery_number = 2;
  string sales_order_id = 3;
  string customer_id = 4;               // Cross-ref: FIN Customer
  int64 planned_ship_date = 5;
  int64 actual_ship_date = 6;
  int64 planned_delivery_date = 7;
  int64 actual_delivery_date = 8;
  SalesDeliveryStatus status = 9;
  string warehouse_id = 10;             // Cross-ref: SCM Warehouse
  erp.Address ship_to_address = 11;
  string carrier_id = 12;
  string tracking_number = 13;
  string shipping_method = 14;
  erp.Money shipping_cost = 15;
  string notes = 16;
  map<string, string> custom_fields = 17;
  erp.AuditInfo audit_info = 18;
}

message SalesDeliveryOrderList {
  repeated SalesDeliveryOrder list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SalesDeliveryLine represents a line item on a delivery order
message SalesDeliveryLine {
  string line_id = 1;
  string delivery_order_id = 2;
  int32 line_number = 3;
  string sales_order_line_id = 4;
  string item_id = 5;                   // Cross-ref: SCM Item
  string description = 6;
  double quantity = 7;
  string unit_of_measure = 8;
  string lot_number = 9;
  string serial_number = 10;
  erp.AuditInfo audit_info = 11;
}

message SalesDeliveryLineList {
  repeated SalesDeliveryLine list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SalesPickRelease represents a pick release for warehouse picking
message SalesPickRelease {
  string pick_release_id = 1;
  string pick_number = 2;
  string delivery_order_id = 3;
  string warehouse_id = 4;              // Cross-ref: SCM Warehouse
  int64 release_date = 5;
  int64 pick_date = 6;
  SalesPickStatus status = 7;
  string assigned_to = 8;               // Cross-ref: HCM Employee
  string pick_zone = 9;
  int32 priority = 10;
  string notes = 11;
  erp.AuditInfo audit_info = 12;
}

message SalesPickReleaseList {
  repeated SalesPickRelease list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SalesPackingSlip represents a packing slip for a shipment
message SalesPackingSlip {
  string packing_slip_id = 1;
  string slip_number = 2;
  string delivery_order_id = 3;
  int64 pack_date = 4;
  string packed_by = 5;                 // Cross-ref: HCM Employee
  int32 total_packages = 6;
  double total_weight = 7;
  string weight_unit = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message SalesPackingSlipList {
  repeated SalesPackingSlip list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SalesShippingDoc represents shipping documentation (BOL, customs, etc.)
message SalesShippingDoc {
  string doc_id = 1;
  string doc_number = 2;
  string delivery_order_id = 3;
  SalesShipDocType doc_type = 4;
  int64 issue_date = 5;
  string issued_by = 6;
  string file_path = 7;
  string notes = 8;
  erp.AuditInfo audit_info = 9;
}

message SalesShippingDocList {
  repeated SalesShippingDoc list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SalesDeliveryConfirm represents delivery confirmation/POD
message SalesDeliveryConfirm {
  string confirm_id = 1;
  string delivery_order_id = 2;
  int64 confirm_date = 3;
  string received_by = 4;
  string signature_path = 5;
  string notes = 6;
  bool is_damaged = 7;
  string damage_description = 8;
  repeated string photo_paths = 9;
  erp.AuditInfo audit_info = 10;
}

message SalesDeliveryConfirmList {
  repeated SalesDeliveryConfirm list = 1;
  l8api.L8MetaData metadata = 2;
}
