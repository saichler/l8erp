/*
Â© 2025 Sharon Aicler (saichler@gmail.com)

Layer 8 Ecosystem is licensed under the Apache License, Version 2.0.
You may obtain a copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
syntax = "proto3";

package scm;

option go_package = "./types/scm";

import "scm-common.proto";
import "erp-common.proto";
import "api.proto";

// ============================================================================
// PROCUREMENT MESSAGES
// ============================================================================

// @PrimeObject
// PurchaseRequisition represents an internal request to purchase goods or services
message PurchaseRequisition {
  string requisition_id = 1;
  string requisition_number = 2;
  string requester_id = 3;          // Cross-ref: HCM Employee
  string department_id = 4;         // Cross-ref: HCM Department
  int64 request_date = 5;
  RequisitionStatus status = 6;
  string description = 7;
  string priority = 8;
  erp.Money estimated_total = 9;
  string approval_workflow_id = 10;
  map<string, string> custom_fields = 11;
  erp.AuditInfo audit_info = 12;
}

message PurchaseRequisitionList {
  repeated PurchaseRequisition list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// RequisitionLine represents a line item on a purchase requisition
message RequisitionLine {
  string line_id = 1;
  string requisition_id = 2;
  int32 line_number = 3;
  string item_id = 4;
  string description = 5;
  double quantity = 6;
  string unit_of_measure = 7;
  erp.Money estimated_unit_price = 8;
  erp.Money estimated_total = 9;
  string vendor_id = 10;            // Cross-ref: FIN Vendor
  int64 delivery_date = 11;
  erp.AuditInfo audit_info = 12;
}

message RequisitionLineList {
  repeated RequisitionLine list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// RequestForQuotation represents an RFQ sent to vendors
message RequestForQuotation {
  string rfq_id = 1;
  string rfq_number = 2;
  string requisition_id = 3;
  repeated string vendor_ids = 4;
  int64 issue_date = 5;
  int64 response_deadline = 6;
  string description = 7;
  RequisitionStatus status = 8;
  string notes = 9;
  map<string, string> custom_fields = 10;
  erp.AuditInfo audit_info = 11;
}

message RequestForQuotationList {
  repeated RequestForQuotation list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// PurchaseOrder represents a purchase order sent to a vendor
message PurchaseOrder {
  string purchase_order_id = 1;
  string order_number = 2;
  string vendor_id = 3;             // Cross-ref: FIN Vendor
  int64 order_date = 4;
  int64 expected_delivery = 5;
  PurchaseOrderStatus status = 6;
  erp.Money total_amount = 7;
  erp.Address shipping_address = 8;
  string payment_terms = 9;
  string notes = 10;
  string requisition_id = 11;
  string rfq_id = 12;
  map<string, string> custom_fields = 13;
  erp.AuditInfo audit_info = 14;
}

message PurchaseOrderList {
  repeated PurchaseOrder list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// PurchaseOrderLine represents a line item on a purchase order
message PurchaseOrderLine {
  string line_id = 1;
  string purchase_order_id = 2;
  int32 line_number = 3;
  string item_id = 4;
  string description = 5;
  double quantity = 6;
  erp.Money unit_price = 7;
  erp.Money total_price = 8;
  string unit_of_measure = 9;
  double received_quantity = 10;
  erp.AuditInfo audit_info = 11;
}

message PurchaseOrderLineList {
  repeated PurchaseOrderLine list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// BlanketOrder represents a long-term purchase agreement with a vendor
message BlanketOrder {
  string blanket_order_id = 1;
  string order_number = 2;
  string vendor_id = 3;
  int64 start_date = 4;
  int64 end_date = 5;
  erp.Money max_amount = 6;
  erp.Money used_amount = 7;
  PurchaseOrderStatus status = 8;
  string description = 9;
  map<string, string> custom_fields = 10;
  erp.AuditInfo audit_info = 11;
}

message BlanketOrderList {
  repeated BlanketOrder list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SupplierScorecard represents a vendor performance evaluation
message SupplierScorecard {
  string scorecard_id = 1;
  string vendor_id = 2;             // Cross-ref: FIN Vendor
  erp.DateRange evaluation_period = 3;
  double quality_score = 4;
  double delivery_score = 5;
  double price_score = 6;
  double service_score = 7;
  double overall_score = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message SupplierScorecardList {
  repeated SupplierScorecard list = 1;
  l8api.L8MetaData metadata = 2;
}
