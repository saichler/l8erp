/*
Â© 2025 Sharon Aicler (saichler@gmail.com)

Layer 8 Ecosystem is licensed under the Apache License, Version 2.0.
You may obtain a copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

syntax = "proto3";

package ecom;

option go_package = "./types/ecom";

import "ecom-common.proto";
import "erp-common.proto";
import "api.proto";

// =====================
// CUSTOMER
// =====================

// @PrimeObject
// EcomCustomer represents an e-commerce customer account
message EcomCustomer {
    string customer_id = 1;
    string email = 2;
    string first_name = 3;
    string last_name = 4;
    string phone = 5;
    EcomCustomerType customer_type = 6;
    string password_hash = 7;
    bool is_active = 8;
    bool email_verified = 9;
    int64 created_date = 10;
    int64 last_login_date = 11;
    int32 total_orders = 12;
    erp.Money total_spent = 13;
    string sales_customer_id = 14;          // cross-ref: Sales Customer
    string default_billing_address_id = 15; // cross-ref: EcomCustomerAddress
    string default_shipping_address_id = 16;// cross-ref: EcomCustomerAddress
    string customer_group = 17;
    bool accepts_marketing = 18;
    string locale = 19;
    string currency_code = 20;
    map<string, string> custom_fields = 21;
    erp.AuditInfo audit_info = 22;
}

message EcomCustomerList {
    repeated EcomCustomer items = 1;
}

// =====================
// CUSTOMER ADDRESS
// =====================

// @PrimeObject
// EcomCustomerAddress represents a customer's saved address
message EcomCustomerAddress {
    string address_id = 1;
    string customer_id = 2;                 // cross-ref: EcomCustomer
    string label = 3;
    string first_name = 4;
    string last_name = 5;
    string company = 6;
    string address_line1 = 7;
    string address_line2 = 8;
    string city = 9;
    string state = 10;
    string postal_code = 11;
    string country = 12;
    string phone = 13;
    bool is_default_billing = 14;
    bool is_default_shipping = 15;
    map<string, string> custom_fields = 16;
    erp.AuditInfo audit_info = 17;
}

message EcomCustomerAddressList {
    repeated EcomCustomerAddress items = 1;
}

// =====================
// WISHLIST
// =====================

// @PrimeObject
// EcomWishlist represents a customer's wishlist
message EcomWishlist {
    string wishlist_id = 1;
    string customer_id = 2;                 // cross-ref: EcomCustomer
    string name = 3;
    string description = 4;
    bool is_public = 5;
    string share_token = 6;
    int64 created_date = 7;
    int64 updated_date = 8;
    int32 item_count = 9;
    map<string, string> custom_fields = 10;
    erp.AuditInfo audit_info = 11;
}

message EcomWishlistList {
    repeated EcomWishlist items = 1;
}

// =====================
// WISHLIST ITEM
// =====================

// @PrimeObject
// EcomWishlistItem represents an item in a wishlist
message EcomWishlistItem {
    string item_id = 1;
    string wishlist_id = 2;                 // cross-ref: EcomWishlist
    string product_id = 3;                  // cross-ref: EcomProduct
    string variant_id = 4;                  // cross-ref: EcomVariant
    int32 quantity = 5;
    string notes = 6;
    int64 added_date = 7;
    erp.Money price_when_added = 8;
    int32 priority = 9;
    map<string, string> custom_fields = 10;
    erp.AuditInfo audit_info = 11;
}

message EcomWishlistItemList {
    repeated EcomWishlistItem items = 1;
}

// =====================
// CART
// =====================

// @PrimeObject
// EcomCart represents a shopping cart
message EcomCart {
    string cart_id = 1;
    string customer_id = 2;                 // cross-ref: EcomCustomer (optional for guests)
    string session_id = 3;
    EcomCartStatus status = 4;
    int64 created_date = 5;
    int64 updated_date = 6;
    int64 expires_at = 7;
    erp.Money subtotal = 8;
    erp.Money discount_amount = 9;
    erp.Money tax_amount = 10;
    erp.Money total = 11;
    string coupon_code = 12;
    string currency_code = 13;
    int32 item_count = 14;
    string ip_address = 15;
    string user_agent = 16;
    map<string, string> custom_fields = 17;
    erp.AuditInfo audit_info = 18;
}

message EcomCartList {
    repeated EcomCart items = 1;
}
