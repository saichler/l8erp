/*
Â© 2025 Sharon Aicler (saichler@gmail.com)

Layer 8 Ecosystem is licensed under the Apache License, Version 2.0.
You may obtain a copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
syntax = "proto3";

package scm;

option go_package = "./types/scm";

import "scm-common.proto";
import "erp-common.proto";
import "api.proto";

// ============================================================================
// SUPPLY PLANNING MESSAGES
// ============================================================================

// @PrimeObject
// ScmMaterialRequirement represents a material requirement from MRP
message ScmMaterialRequirement {
  string requirement_id = 1;
  string item_id = 2;
  int64 required_date = 3;
  double required_quantity = 4;
  double available_quantity = 5;
  double shortage_quantity = 6;
  int64 planned_order_date = 7;
  ScmPlanningMethod planning_method = 8;
  string source = 9;
  ScmTaskStatus status = 10;
  erp.AuditInfo audit_info = 11;
}

message ScmMaterialRequirementList {
  repeated ScmMaterialRequirement list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// ScmDistributionRequirement represents a distribution requirement between warehouses
message ScmDistributionRequirement {
  string requirement_id = 1;
  string item_id = 2;
  string source_warehouse_id = 3;
  string destination_warehouse_id = 4;
  int64 required_date = 5;
  double required_quantity = 6;
  double transfer_quantity = 7;
  ScmTaskStatus status = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message ScmDistributionRequirementList {
  repeated ScmDistributionRequirement list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// ScmSupplyPlan represents an overall supply plan
message ScmSupplyPlan {
  string plan_id = 1;
  string name = 2;
  string description = 3;
  erp.DateRange plan_period = 4;
  ScmTaskStatus status = 5;
  string created_by = 6;
  string approved_by = 7;
  string notes = 8;
  map<string, string> custom_fields = 9;
  erp.AuditInfo audit_info = 10;
}

message ScmSupplyPlanList {
  repeated ScmSupplyPlan list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// ScmSupplierCollaboration represents vendor collaboration settings for an item
message ScmSupplierCollaboration {
  string collaboration_id = 1;
  string vendor_id = 2;             // Cross-ref: FIN Vendor
  string item_id = 3;
  bool forecast_shared = 4;
  bool inventory_visible = 5;
  int32 lead_time_agreed = 6;
  double min_order_quantity = 7;
  string status = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message ScmSupplierCollaborationList {
  repeated ScmSupplierCollaboration list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// ScmSafetyStock represents safety stock configuration for an item at a warehouse
message ScmSafetyStock {
  string safety_stock_id = 1;
  string item_id = 2;
  string warehouse_id = 3;
  double safety_stock_quantity = 4;
  string calculation_method = 5;
  double service_level = 6;
  int64 review_date = 7;
  bool is_active = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message ScmSafetyStockList {
  repeated ScmSafetyStock list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// ScmLeadTime represents lead time configuration for an item from a vendor
message ScmLeadTime {
  string lead_time_id = 1;
  string item_id = 2;
  string vendor_id = 3;             // Cross-ref: FIN Vendor
  int32 lead_time_days = 4;
  int32 transit_days = 5;
  int32 receiving_days = 6;
  int32 total_days = 7;
  bool is_active = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message ScmLeadTimeList {
  repeated ScmLeadTime list = 1;
  l8api.L8MetaData metadata = 2;
}
