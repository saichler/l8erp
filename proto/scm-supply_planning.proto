/*
Â© 2025 Sharon Aicler (saichler@gmail.com)

Layer 8 Ecosystem is licensed under the Apache License, Version 2.0.
You may obtain a copy of the License at:

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
syntax = "proto3";

package scm;

option go_package = "./types/scm";

import "scm-common.proto";
import "erp-common.proto";
import "api.proto";

// ============================================================================
// SUPPLY PLANNING MESSAGES
// ============================================================================

// @PrimeObject
// MaterialRequirement represents a material requirement from MRP
message MaterialRequirement {
  string requirement_id = 1;
  string item_id = 2;
  int64 required_date = 3;
  double required_quantity = 4;
  double available_quantity = 5;
  double shortage_quantity = 6;
  int64 planned_order_date = 7;
  PlanningMethod planning_method = 8;
  string source = 9;
  TaskStatus status = 10;
  erp.AuditInfo audit_info = 11;
}

message MaterialRequirementList {
  repeated MaterialRequirement list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// DistributionRequirement represents a distribution requirement between warehouses
message DistributionRequirement {
  string requirement_id = 1;
  string item_id = 2;
  string source_warehouse_id = 3;
  string destination_warehouse_id = 4;
  int64 required_date = 5;
  double required_quantity = 6;
  double transfer_quantity = 7;
  TaskStatus status = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message DistributionRequirementList {
  repeated DistributionRequirement list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SupplyPlan represents an overall supply plan
message SupplyPlan {
  string plan_id = 1;
  string name = 2;
  string description = 3;
  erp.DateRange plan_period = 4;
  TaskStatus status = 5;
  string created_by = 6;
  string approved_by = 7;
  string notes = 8;
  map<string, string> custom_fields = 9;
  erp.AuditInfo audit_info = 10;
}

message SupplyPlanList {
  repeated SupplyPlan list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SupplierCollaboration represents vendor collaboration settings for an item
message SupplierCollaboration {
  string collaboration_id = 1;
  string vendor_id = 2;             // Cross-ref: FIN Vendor
  string item_id = 3;
  bool forecast_shared = 4;
  bool inventory_visible = 5;
  int32 lead_time_agreed = 6;
  double min_order_quantity = 7;
  string status = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message SupplierCollaborationList {
  repeated SupplierCollaboration list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// SafetyStock represents safety stock configuration for an item at a warehouse
message SafetyStock {
  string safety_stock_id = 1;
  string item_id = 2;
  string warehouse_id = 3;
  double safety_stock_quantity = 4;
  string calculation_method = 5;
  double service_level = 6;
  int64 review_date = 7;
  bool is_active = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message SafetyStockList {
  repeated SafetyStock list = 1;
  l8api.L8MetaData metadata = 2;
}

// @PrimeObject
// LeadTime represents lead time configuration for an item from a vendor
message LeadTime {
  string lead_time_id = 1;
  string item_id = 2;
  string vendor_id = 3;             // Cross-ref: FIN Vendor
  int32 lead_time_days = 4;
  int32 transit_days = 5;
  int32 receiving_days = 6;
  int32 total_days = 7;
  bool is_active = 8;
  string notes = 9;
  erp.AuditInfo audit_info = 10;
}

message LeadTimeList {
  repeated LeadTime list = 1;
  l8api.L8MetaData metadata = 2;
}
